<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GAME BRAiN</title>
    {include file="./static/html/header_common.html" /}
	<link href="/static/css/userinfo.css" rel="stylesheet" type="text/css" />
	<link href="/static/css/checkbox.css" rel="stylesheet" type="text/css" />
    <style>
	  input[type="file"] {
    position: absolute;
    opacity: 0;
    top: 0;
    left: 0;
    width: 150px;
    height: 105px;
    cursor: pointer;
    line-height: 34px;
}
	</style>	
</head>
 
<body>
    <div id="wrapper" style="background-color:#fff;">
        {include file="./static/html/header.html" /}	
		<div class="hw_page_content">
		    <div class="hw_menu_left">
         {include file="./static/html/side.html" /}  
			</div>
		    <div class="hw_content_right">
			    <ul class="search_tab clearfix" >
			      <li class="active"><a  href="javascript:;">邀请注册</a></li>				  
		        </ul>
			  	
                			  <div style="padding:30px 30px;clear:both;">
			        <form class="form-horizontal">
					  <div class="form-group">
						<label for="email" class="col-sm-2 control-label">填写邮箱</label>
						<div class="col-sm-8">
						  <input type="text" class="form-control" id="email" placeholder="邮箱">
						</div>
					  </div>
					   <div class="form-group">
						<label for="email" class="col-sm-2 control-label">输入名称</label>
						<div class="col-sm-8">
						  <input type="text" class="form-control" id="truename" placeholder="备注名称">
						</div>
					  </div>
					   <div class="form-group">
					
						 <label for="app_name" class="col-sm-2 control-label">所属角色</label>
                         	<div class="col-sm-8" style="margin-top:5px;">
							  <div style="clear:both;">
 							        <div class="el-radio filled-in el-radio-red" style="float:left;margin-right:3px;">								  
									   <input type="radio" value="super" name="ad_role" id="role_1">
									   <label class="el-radio-style" for="role_1"></label>
										<span class="margin-r">超级组</span>
								   </div>
								 <div class="el-radio filled-in el-radio-red" style="float:left;margin-right:3px;">								  
								   <input type="radio"  value="publisher" name="ad_role" id="role_2">
								   <label class="el-radio-style" for="role_2"></label>
								    <span class="margin-r">变现组</span>
								 </div>
								
								 <div class="el-radio filled-in el-radio-red" style="float:left;margin-right:3px;">
								  
								   <input type="radio"  value="advertiser" name="ad_role" id="role_3">
								   <label class="el-radio-style" for="role_3"></label>
								    <span class="margin-r">推广组</span>
								 </div>
								 
								  <div class="el-radio filled-in el-radio-red" style="float:left;margin-right:3px;">
								  
								   <input type="radio"  value="producter" name="ad_role" id="role_4">
								   <label class="el-radio-style" for="role_4"></label>
								    <span class="margin-r">产品组</span>
								 </div>
                                 
                                 <div class="el-radio filled-in el-radio-red" style="float:left;margin-right:3px;">								  
								   <input type="radio"  value="copartner" name="ad_role" id="role_5">
								   <label class="el-radio-style" for="role_5"></label>
								    <span class="margin-r">合作组</span>
								 </div>						 
                                </div>
							</div>
					   </div>
					   
					   <div class="form-group">
					
						 <label for="app_name" class="col-sm-2 control-label">应用管理</label>
                         	<div class="col-sm-8" style="margin-top:5px;">
							  <div style="clear:both;height:300px;overflow-y:scroll;border:1px solid #F3F3F3;padding:15px 15px;">
 							         {volist name="res" id="item"}
									 <div class="el-checkbox filled-in el-checkbox-red" style="">
									  
									   <input type="checkbox" value="{$item.id}" name="app_id" id="app_id_{$item.id}">
									   <label class="el-checkbox-style" for="app_id_{$item.id}"></label>
									    <span class="margin-r">{$item.app_name}</span>
									 </div>
                                     {/volist}								 
                                </div>
							</div>
					   </div>
					  
					<!--  <div class="form-group">
					
						 <label for="app_name" class="col-sm-2 control-label">权限管理</label>
                         	<div class="col-sm-8" style="margin-top:5px;">
							    <div>
 							     <p style="font-weight:700">应用配置管理</p>
								  <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
								  
								   <input type="checkbox" value="12" name="rule" id="12_1">
								   <label class="el-checkbox-style" for="12_1"></label>
								    <span class="margin-r">查看</span>
								 </div>
								 <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
								  
								   <input type="checkbox" value="1" name="rule" id="1_1">
								   <label class="el-checkbox-style" for="1_1"></label>
								    <span class="margin-r">添加</span>
								 </div>
								 <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
								  
								   <input type="checkbox" value="2" name="rule" id="2_1">
								   <label class="el-checkbox-style" for="2_1"></label>
								    <span class="margin-r">修改</span>
								 </div>
                                   <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
								  
								   <input type="checkbox" value="3" name="rule" id="3_1">
								   <label class="el-checkbox-style" for="3_1"></label>
								    <span class="margin-r">删除</span>
								 </div>
                                </div>
                                <div style="clear:both;padding-top:15px;">
 							        <p style="font-weight:700">分析管理</p>
									 <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
									  
									   <input type="checkbox" value="4" name="rule" id="4_1">
									   <label class="el-checkbox-style" for="4_1"></label>
									    <span class="margin-r">主页分析查看</span>
									 </div>
                                     <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
									  
									   <input type="checkbox" value="5" name="rule" id="5_1">
									   <label class="el-checkbox-style" for="5_1"></label>
									    <span class="margin-r">成效分析查看</span>
									 </div>
                                     <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
									   
									   <input type="checkbox" value="6" name="rule" id="6_1">
									   <label class="el-checkbox-style" for="6_1"></label>
									   <span class="margin-r">花费分析查看</span>
									 </div>
                                     <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
									  
									   <input type="checkbox" value="7" name="rule" id="7_1">
									   <label class="el-checkbox-style" for="7_1"></label>
									    <span class="margin-r">ROI MODEL</span>
									 </div>									 
                                </div>
                               
                                <div style="clear:both;padding-top:15px;">
 							        <p style="font-weight:700">其他管理</p>
									 <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
									  
									   <input type="checkbox" value="8" name="rule" id="8_1">
									   <label class="el-checkbox-style" for="8_1"></label>
									    <span class="margin-r">日活管理</span>
									 </div>
                                     <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
									  
									   <input type="checkbox" value="9" name="rule" id="9_1">
									   <label class="el-checkbox-style" for="9_1"></label>
									    <span class="margin-r">系统信息</span>
									 </div>
                                    <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
									  
									   <input type="checkbox" value="10" name="rule" id="10_1">
									   <label class="el-checkbox-style" for="10_1"></label>
									    <span class="margin-r">权限设置</span>
									 </div>	
                                    <div class="el-checkbox filled-in el-checkbox-red" style="float:left;margin-right:3px;">
									  
									   <input type="checkbox" value="11" name="rule" id="11_1">
									   <label class="el-checkbox-style" for="11_1"></label>
									    <span class="margin-r">其他设置</span>
									 </div>										 
                                </div>                               								
							</div>						 						  
                           
					  </div> -->
					  					  
					  <div class="form-group">
					
					  
						<div class="col-sm-offset-4 col-sm-6" style="margin-top:10px;">
						  <button type="button" onclick="window.location.href='/admin_profile/other_set'" style="width:20%;float:left;margin-right:10px;padding-right:10px;" class="btn btn-default">取消</button>
						  <button type="button" style="width:50%;" id="save" class="btn btn-danger">发送邀请</button>
						</div>
					  </div>
					</form>
			  </div>				
			</div>
		</div>
		 {include file="./static/html/footer.html" /}
	</div>	
</body>
 {include file="./static/html/footer_common.html" /}
 <script>
    $(function(){
        
		  $("#save").click( function(){
		     
			   var email = $("#email").val();
			    var truename = $("#truename").val();
			   var appids="";
			   var rules ="";
			   var ad_role = $("[name='ad_role']:checked").val();
			   if( typeof(ad_role)=="undefined" )
			   {
				 layer.msg("请选择所属角色");return false;
			   }
			    $("input[name='app_id']:checked").each( function(){
				     appids+=$(this).val()+","; 
				})
				 $("input[name='rule']:checked").each( function(){
				     rules+=$(this).val()+","; 
				})
			    if( !isEmail(email) )
				  {
					$("#email").focus();					
					$.Pop('请填写合法的邮箱!',{Title:'提示',Animation:'slideFromTop'});return false;
				  }				
				$(this).attr("disabled",true);
				var obj = $(this);
				var index = layer.load(0, {shade: false}); //0代表加载的风格，支持0-2
				$.post("/admin_profile/add_invite",{email:email,truename:truename,appids:appids,rules:rules,ad_role:ad_role},function(e){
					layer.close(index);					
					$(obj).attr("disabled",false);
					if( "ok"==e )
					  {
						$("input[type='text']").val("");
						$.Pop('邀请已发送对方邮箱!','confirm',function(){ window.location.href='/admin_profile/other_set' })
					  }else{
						$.Pop('由于异常，提交失败',{Title:'提示',Animation:'slideFromTop'});return false;
					  }			
				})
			 
		  })

      });
	function isEmail(str){
	if(str==null) return;

	var reg=new RegExp(/^([a-zA-Z0-9._-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/);

	return reg.test(str);//检测字符串是否符合正则表达式
 }
 </script>
</html>