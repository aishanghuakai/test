<table class="table">
<thead>
	<tr>
		
		<th>Platform</th>
		<th style="vertical-align:middle; text-align:center;">Revenue</th>
		<th style="vertical-align:middle; text-align:center;">Impressions</th>
		<th style="vertical-align:middle; text-align:center;">Clicks</th>
		<th style="vertical-align:middle; text-align:center;">eCPM</th>
	</tr>
</thead>
<tbody>
     {if condition="empty($data)"}
	  <tr style="color:#ccc;"><td colspan="2"><td><i class="material-icons" style="vertical-align:middle;">mood_bad</i> no data</td></tr> 
	 {else /}
	 {volist name="data" id="item"}
	 <tr>
		<td>
		  <img src="{$item.platform|getplatformimg}"  class="mr-2" width="40" height="20">												 
		  <a class="plat_title" href="#">{$item.platform|getplatform}</a>
		</td>
		<td style="vertical-align:middle; text-align:center;">${$item.revenue}</td>
		<td style="vertical-align:middle; text-align:center;">{$item.impression}</td>
		<td style="vertical-align:middle; text-align:center;">{$item.click}</td>
		<td style="vertical-align:middle; text-align:center;"><?php if(isset( $item["impression"]) && $item["impression"]>0 ){ echo round( $item["revenue"]*1000/$item["impression"],2); }else{ echo "0.00";} ?></td>
	</tr>
	{/volist}
	<tr style="color:red;">
	  <td style="vertical-align:middle; text-align:center;font-weight:bold;">总计</td>
	  <td style="vertical-align:middle; text-align:center;">$<?php echo $total_revenue = array_sum(array_column($data,'revenue')); ?></td>
	  <td style="vertical-align:middle; text-align:center;"><?php echo $total_impression = array_sum(array_column($data,'impression')); ?></td>
	  <td style="vertical-align:middle; text-align:center;"><?php echo  array_sum(array_column($data,'click')); ?></td>
	  <td style="vertical-align:middle; text-align:center;"><?php if( $total_impression>0 ){ echo round( $total_revenue*1000/$total_impression,2); }else{ echo "0.00";} ?></td>
	</tr>
	 {/if}
</tbody>
</table>

