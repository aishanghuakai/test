<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>ğŸˆå“ˆä¹æ²ƒå¾·äº”å‘¨å¹´ğŸˆ</title>
{include file="../application/index/view/common/header.html" /}
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<style>
  .el-upload-list--picture-card .el-upload-list__item,.el-upload--picture-card{}
  .imagelook .el-dialog{background-color:rgba(0,0,0,1)}
</style>
<!--[if IE]>
  <script>window.location.href = '/compatibility';</script>
  <![endif]-->
</head>
<body class="mdui-loaded">
<div id="app" style="width:95%;margin:0 auto;">
 
 
    <el-form v-loading="editload">
    <el-form-item label="æ˜µç§°" >
      <el-input  v-model="actor" placeholder="è¯·è¾“å…¥2-10ä¸ªå­—ç¬¦" clearable autocomplete="off"></el-input>
    </el-form-item>
    <el-form-item label="å†…å®¹" >
      <el-input type="textarea" :rows="6" v-model="content" clearable placeholder="å†…å®¹å­—æ•°åœ¨10-300ä¹‹é—´" autocomplete="off"></el-input>
    </el-form-item>
   <el-form-item>
     <p><i class="el-icon-warning-outline"></i> å‘å¸ƒä¹‹å‰ï¼Œè¯·ç¡®è®¤å†…å®¹æ— è¯¯ï¼Œä¸€ç»å‘å¸ƒï¼Œä¸å¯ä¿®æ”¹!</p>
   </el-form-item>
  </el-form>
  <div style="text-align:center;margin-bottom:20px;" class="dialog-footer">
    <el-button  @click="back">è¿” å›</el-button>
    <el-button  type="danger" @click="addSubmit" >ç¡®è®¤å‘å¸ƒ</el-button>
  </div>
</div>
</body>
  <!-- import Vue before Element -->
  <script src="/static/js/vue.min.js"></script>
  <!-- import JavaScript -->
  <script src="/static/index/index.js"></script>
  <script src="/static/js/axios.min.js"></script>
  <script>
     let t = new Vue({
      el: '#app',
      data: function() {
        return { actor:'',content:'',loading:false,editload:false }
      },
	  methods:{
	   
	  back(){
	    window.location.href ='/say.html';
	  },
	  addSubmit(){
		 if( this.actor.length<2 || this.actor.length>10 )
		   {
			this.$message.warning('æ˜µç§°é•¿åº¦ä¸º2-10ä¸ªå­—ç¬¦');
			return false
		   }
		   
		    if( this.content.length<10 || this.content.length>300 )
		   {
			this.$message.warning('å†…å®¹å­—æ•°åœ¨10-300ä¹‹é—´');
			return false
		   }
		   
		   let params ={
		     actor:this.actor,
			 content:this.content
		   }
		   this.editload = true
		   let _that =this
		   axios.post('/postcomment',params)
		  .then(function (response) {
			 _that.editload = false
			 if( response.data=="ok" )
			 {
			    _that.$message.success('å‘å¸ƒæˆåŠŸ')
				window.location.href ='/say.html';
			 }else{
			    _that.$message.warning('å‘å¸ƒå¤±è´¥');
			 }
		  })
		  .catch(function (error) {
			console.log(error);
		  });
	   }
	 }
    })
  </script>
</html>